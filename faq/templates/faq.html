<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous"></script>
        <!-- bootstrap js -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
            integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
            crossorigin="anonymous"></script>    
        {% load static %}
        <title>Frequently Asked Questions</title>
        <style></style>
    </head>

    <body>
        <div class="container">
            <h1><br><strong>Cleanify's Frequently Asked Questions</strong></h1>
            <br>
            <div class="faq-container">
                {% for faq in faqs %}
                <div class="card">
                    <h5 class="card-header"><strong>{{faq.question}}</strong></h5>
                    <div class="card-body">
                        <p class="card-text">{{faq.answer}}</p>
                        <a class="btn btn-dark thumbsUp" data-pk="{{faq.pk}}">
                            <strong>{{faq.thumbsUp}} Thumbs Up</strong>
                        </a>
                    </div>
                </div>
                <br>
                {% endfor %}
            </div>
            <button><a href="{% url 'faq:faq_add' %}">Add New faq</a></button>
        </div>
        
    </body>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        
    $(".thumbsUp").on('click', function(){
        var dataPK = $(this).attr('data-pk');
        $.ajax({
            headers : { 'X-CSRFToken': "{{csrf_token}}" },
            type: 'POST',
            url: "{% url 'faq:faq_update_thumbsUp' %}",
            data: { 
                pk: dataPK
            },
            success: function () {
                console.log('Success')
                location.reload(true)
            }
        })
    })

    </script>

</html>
